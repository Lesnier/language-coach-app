<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-button (click)="back()">
        <ion-icon slot="icon-only" name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Registrar Factura</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid style="margin-top: 10px">
    <ion-row>
      <ion-col>
        <div class="file-upload-container" (click)="fileInput.click()">
          <div class="file-upload-text">Subir archivo</div>
          <img
            *ngIf="selectedDocument"
            [src]="selectedDocument"
            class="file-upload-preview"
          />
          <ion-icon
            *ngIf="!selectedDocument"
            name="cloud-upload-outline"
            class="camera-icon"
          ></ion-icon>
          <input
            type="file"
            #fileInput
            (change)="onFileChange($event)"
            accept="image/*"
            style="display: none"
          />
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row style="margin: 0 10px 10px">
      <ion-col size="12" size-md="12"
        ><ion-item>
          <ion-input
            [(ngModel)]="transaction_code"
            placeholder="Numero de transaccion"
            required
          ></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
  <!-- Removed the Usuario dropdown -->
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="12">
        <ion-button
          expand="block"
          color="secondary"
          (click)="submit()"
          [disabled]="!transaction_code || !image"
          style="margin: 0 10px"
          >Subir Factura</ion-button
        >
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
